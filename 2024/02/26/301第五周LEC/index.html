<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>301第五周LEC | Jacka10086's Blog</title><meta name="author" content="Jacka10086"><meta name="copyright" content="Jacka10086"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CMP301 – 计算机网络 第五周课程传输层和应用层 目标：理解传输层服务背后的原理，包括：  多路复用和解复用：允许多个网络应用同时使用同一个网络连接，以及在接收端将数据正确分发给相应的应用。 可靠数据传输：确保数据正确无误地从一个端点传输到另一个端点。 UDP：一种无连接的传输方式，不确保数据的可靠传输，适用于对实时性要求较高的应用。 TCP：一种面向连接的可靠传输方式，通过确认和重传机制确">
<meta property="og:type" content="article">
<meta property="og:title" content="301第五周LEC">
<meta property="og:url" content="http://example.com/2024/02/26/301%E7%AC%AC%E4%BA%94%E5%91%A8LEC/index.html">
<meta property="og:site_name" content="Jacka10086&#39;s Blog">
<meta property="og:description" content="CMP301 – 计算机网络 第五周课程传输层和应用层 目标：理解传输层服务背后的原理，包括：  多路复用和解复用：允许多个网络应用同时使用同一个网络连接，以及在接收端将数据正确分发给相应的应用。 可靠数据传输：确保数据正确无误地从一个端点传输到另一个端点。 UDP：一种无连接的传输方式，不确保数据的可靠传输，适用于对实时性要求较高的应用。 TCP：一种面向连接的可靠传输方式，通过确认和重传机制确">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.loli.net/2023/10/18/fq6OmvaUIxkbdo5.jpg">
<meta property="article:published_time" content="2024-02-26T16:37:58.000Z">
<meta property="article:modified_time" content="2024-02-26T17:40:44.859Z">
<meta property="article:author" content="Jacka10086">
<meta property="article:tag" content="301">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/10/18/fq6OmvaUIxkbdo5.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2024/02/26/301%E7%AC%AC%E4%BA%94%E5%91%A8LEC/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '301第五周LEC',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-26 17:40:44'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/10/18/fq6OmvaUIxkbdo5.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">112</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Jacka10086's Blog"><span class="site-name">Jacka10086's Blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">301第五周LEC</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-02-26T16:37:58.000Z" title="Created 2024-02-26 16:37:58">2024-02-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-02-26T17:40:44.859Z" title="Updated 2024-02-26 17:40:44">2024-02-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="301第五周LEC"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="CMP301-–-计算机网络-第五周课程"><a href="#CMP301-–-计算机网络-第五周课程" class="headerlink" title="CMP301 – 计算机网络 第五周课程"></a>CMP301 – 计算机网络 第五周课程</h2><h3 id="传输层和应用层"><a href="#传输层和应用层" class="headerlink" title="传输层和应用层"></a>传输层和应用层</h3><ul>
<li><p>目标：理解传输层服务背后的原理，包括：</p>
<ul>
<li><strong>多路复用和解复用</strong>：允许多个网络应用同时使用同一个网络连接，以及在接收端将数据正确分发给相应的应用。</li>
<li><strong>可靠数据传输</strong>：确保数据正确无误地从一个端点传输到另一个端点。</li>
<li><strong>UDP</strong>：一种无连接的传输方式，不确保数据的可靠传输，适用于对实时性要求较高的应用。</li>
<li><strong>TCP</strong>：一种面向连接的可靠传输方式，通过确认和重传机制确保数据的正确传输。</li>
</ul>
</li>
<li><p>网络应用原理：</p>
<ul>
<li><strong>Web 和 HTTP</strong>：浏览网页所使用的协议和架构。</li>
<li><strong>电子邮件，SMTP，IMAP</strong>：用于发送和接收电子邮件的协议。</li>
<li><strong>域名系统 DNS，DHCP</strong>：将网站名称转换为IP地址的系统，以及动态分配网络地址的协议。</li>
</ul>
</li>
<li><p>材料：由 Omar 收集、编辑和综合</p>
</li>
<li><p>来源：CCNA: 网络入门介绍 &amp; 《计算机网络：自顶向下方法》</p>
</li>
</ul>
<p>总结：本周课程介绍了计算机网络中传输层和应用层的基本概念和协议，包括多路复用、解复用、UDP和TCP的区别，以及网络应用的基本原理。课程内容由Omar教授提供，资料来源于CCNA课程和《计算机网络：自顶向下方法》一书。</p>
<h2 id="传输层的作用"><a href="#传输层的作用" class="headerlink" title="传输层的作用"></a>传输层的作用</h2><p>传输层负责建立两个应用程序之间的通信会话，并在它们之间传递数据。它提供的服务包括：</p>
<ul>
<li><strong>面向连接的支持</strong>：建立稳定的连接以确保数据可靠传输。</li>
<li><strong>可靠性</strong>：通过错误检测和纠正机制确保数据完整性。</li>
<li><strong>流量控制</strong>：管理数据传输速率，防止网络拥塞。</li>
<li><strong>多路复用</strong>：允许单个通信通道支持多个网络会话。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图中展示了TCP&#x2F;IP模型的层次结构，其中传输层的位置位于应用层和互联网层之间。</li>
<li>传输层在不同计算机上的应用程序之间移动数据。</li>
<li>示意图显示了数据在网络中如何从一台计算机的应用层通过传输层发送到另一台计算机的应用层。</li>
</ul>
<p>底部文字解析：</p>
<ul>
<li>当考虑传输层时，可以将其比作航运部门，在这个阶段准备（但不发送）多个包裹以供交付（但不涉及物理交付&#x2F;通信本身）。</li>
<li>传输层负责建立通信会话，决定如何将数据分割成段，如何确保数据段不丢失，以及如何验证所有数据段都已到达。所有这些过程都在OSI传输层中有所描述。</li>
</ul>
<p>总结：本部分内容深入解释了传输层在网络中的角色，包括它如何为不同的网络应用提供必要的服务，如连接支持、数据传输的可靠性、流量控制和多路复用。通过类比和图表，使得传输层的概念更易于理解。</p>
<h2 id="传输服务和协议"><a href="#传输服务和协议" class="headerlink" title="传输服务和协议"></a>传输服务和协议</h2><h3 id="逻辑通信"><a href="#逻辑通信" class="headerlink" title="逻辑通信"></a>逻辑通信</h3><ul>
<li>传输层为运行在不同主机上的应用程序进程提供<strong>逻辑通信</strong>。</li>
<li>从应用程序的角度来看，逻辑通信意味着主机之间似乎是直接连接的。</li>
<li>实际上，主机可能位于地球的两端，通过许多路由器和各种类型的链接相连。</li>
<li>应用程序进程使用传输层提供的逻辑通信进行消息传递，无需担心物理基础设施的细节。</li>
</ul>
<h3 id="端系统中的传输协议行为"><a href="#端系统中的传输协议行为" class="headerlink" title="端系统中的传输协议行为"></a>端系统中的传输协议行为</h3><ul>
<li><strong>发送方</strong>：将应用消息分解成<strong>段</strong>，传递给网络层。</li>
<li><strong>接收方</strong>：将段重新组装成消息，传递给应用层。</li>
</ul>
<h3 id="可供互联网应用使用的传输协议"><a href="#可供互联网应用使用的传输协议" class="headerlink" title="可供互联网应用使用的传输协议"></a>可供互联网应用使用的传输协议</h3><ul>
<li><strong>TCP</strong>：传输控制协议，提供面向连接的服务，确保数据的可靠传输。</li>
<li><strong>UDP</strong>：用户数据报协议，提供无连接服务，适用于需要快速传输且可以容忍丢包的应用。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了数据在不同网络环境下的传输过程，包括家庭网络、企业网络和数据中心网络等。</li>
<li>每个网络中的应用层通过传输层将数据发送到其他网络的应用层。</li>
<li>图中用红色圈出的部分表示逻辑通信和物理通信的差异，说明传输层工作在逻辑层面而非物理层面。</li>
</ul>
<p>总结：本部分内容详细说明了传输服务和协议的作用，特别是在逻辑通信上如何为应用程序之间提供数据传输的方法。它也讲解了发送方和接收方如何处理数据，以及TCP和UDP两种协议的特点和用途。图表进一步展示了这些概念在实际网络中的应用。</p>
<h2 id="传输层职责"><a href="#传输层职责" class="headerlink" title="传输层职责"></a>传输层职责</h2><p>传输层承担着多项关键职责，确保数据在网络中有效传输。</p>
<h3 id="追踪单独会话"><a href="#追踪单独会话" class="headerlink" title="追踪单独会话"></a>追踪单独会话</h3><ul>
<li>通过追踪源应用和目的地应用之间流动的每个单独对话，确保数据准确传输。</li>
<li>一个主机上可能有多个应用程序在网络上进行通信，传输层负责维护和跟踪这些多个会话。</li>
</ul>
<h3 id="分段数据和重组段"><a href="#分段数据和重组段" class="headerlink" title="分段数据和重组段"></a>分段数据和重组段</h3><ul>
<li>通过将数据分成更容易管理和传输的段来准备数据。</li>
<li>大多数网络对单个数据包可以包含的数据量有限制，因此传输层协议提供服务，将应用数据分成合适大小的块。</li>
<li>在目的地，传输层必须能够重构数据片段，将其组合成对应用层有用的完整数据流。</li>
</ul>
<h3 id="识别应用程序"><a href="#识别应用程序" class="headerlink" title="识别应用程序"></a>识别应用程序</h3><ul>
<li>即使设备上运行多个应用程序，也确保所有应用程序接收正确的数据。</li>
<li>传输层通过为每个应用程序分配一个称为端口号的标识符来识别目标应用程序。</li>
<li>每个需要访问网络的软件进程都被分配了一个唯一的端口号。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表显示了不同类型的网络应用程序（如即时通讯、电子邮件、多个网页浏览、流媒体视频和IP电话）的数据流。</li>
<li>这些应用程序的数据通过多彩的管道表示其在网络中的传输路径。</li>
<li>图表突出了传输层如何为不同应用程序的数据流动分配不同的通道。</li>
</ul>
<p>总结：这部分内容阐明了传输层在数据传输过程中的三项主要职责：追踪会话、数据分段与重组，以及识别应用程序。图表生动地展示了传输层如何在实际网络中实现这些职责，确保数据准确无误地到达目标应用程序。</p>
<h2 id="传输层可靠性"><a href="#传输层可靠性" class="headerlink" title="传输层可靠性"></a>传输层可靠性</h2><p>传输层负责管理网络通信的可靠性，这是确保数据正确传输的关键部分。</p>
<h3 id="管理可靠性"><a href="#管理可靠性" class="headerlink" title="管理可靠性"></a>管理可靠性</h3><ul>
<li>传输层也负责管理对话的可靠性要求。</li>
<li>不同的应用程序可能对可靠性的需求各不相同，传输层需根据应用变化其要求。</li>
</ul>
<h3 id="传输层协议"><a href="#传输层协议" class="headerlink" title="传输层协议"></a>传输层协议</h3><ul>
<li><strong>TCP（传输控制协议）</strong>：被认为是可靠的、功能完备的传输层协议，能够确认数据包的传输。</li>
<li><strong>UDP（用户数据报协议）</strong>：是一个非常简单的传输层协议，不提供可靠性保证。</li>
</ul>
<h3 id="TCP与UDP的比较"><a href="#TCP与UDP的比较" class="headerlink" title="TCP与UDP的比较"></a>TCP与UDP的比较</h3><ul>
<li>TCP为了确保所有数据都能到达目的地，会增加额外的头部字段，这会增加数据包的大小并可能增加延迟。</li>
<li>相比之下，UDP具有更少的字段，传输速度比TCP更快，但不保证数据的可靠传输。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了TCP&#x2F;IP模型中的层次结构，包括应用层、传输层、互联网层和网络接入层。</li>
<li>应用层包含了FTP、HTTP、SMTP、DNS等不同类型的网络协议。</li>
<li>图表通过不同颜色突出了TCP和UDP在传输层中的位置，以及它们与各种应用协议的关系。</li>
</ul>
<p>总结：这部分内容强调了传输层在网络通信中确保数据可靠传输的重要性，并对比了TCP和UDP两种协议在功能和效率上的不同。图表清晰地展示了这些协议在整个网络协议栈中的位置和作用。</p>
<h2 id="TCP-与-UDP"><a href="#TCP-与-UDP" class="headerlink" title="TCP 与 UDP"></a>TCP 与 UDP</h2><h3 id="TCP（传输控制协议）"><a href="#TCP（传输控制协议）" class="headerlink" title="TCP（传输控制协议）"></a>TCP（传输控制协议）</h3><ul>
<li>TCP传输因为支持数据包确认而被认为是可靠的。</li>
<li>TCP的三个基本操作确保了其可靠性：<ul>
<li><strong>编号和追踪数据段</strong>：追踪发送到特定主机从特定应用的数据段。</li>
<li><strong>确认收到的数据</strong>：接收方确认已收到的数据段。</li>
<li><strong>重传未确认的数据</strong>：在一定时间后，未收到确认的数据将被重传。</li>
</ul>
</li>
<li>TCP类似于发送可追踪的包裹，如果包裹被分成几个小包，顾客可以在线检查送货顺序。</li>
</ul>
<h3 id="UDP（用户数据报协议）"><a href="#UDP（用户数据报协议）" class="headerlink" title="UDP（用户数据报协议）"></a>UDP（用户数据报协议）</h3><ul>
<li>如果可靠性不是必需的，UDP是更好的传输协议。</li>
<li>一些应用不需要可靠性，因为可靠性会带来额外开销和可能的延迟。</li>
<li>UDP为适当的应用提供基本功能，用于在应用间传递数据段，开销小且几乎不检查数据。</li>
<li>UDP被认为是最大努力交付协议，在这种情况下，如果数据在目的地没有被确认接收，不会通知发送方。UDP类似于发送普通邮件，寄件人无法知道收件人是否能够收到邮件，邮局也不负责追踪。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了用户通过ISP连接到服务器农场进行FTP传输的过程。</li>
<li>在TCP的图示中，网络通过ISP 1和ISP 2连接到服务器农场。</li>
<li>在UDP的图示中，显示了一个TFTP传输，网络只通过ISP 2进行连接。</li>
<li>图表通过云图和连接线清晰展示了数据通过网络的不同路径。</li>
</ul>
<p>总结：这部分内容对比了TCP和UDP两种传输层协议的可靠性和效率。TCP提供了可靠的数据传输，而UDP提供了更快但不可靠的传输服务。图表描绘了数据在网络中传输的具体过程，并通过实例说明了TCP和UDP的不同用途。</p>
<h2 id="TCP特性"><a href="#TCP特性" class="headerlink" title="TCP特性"></a>TCP特性</h2><h3 id="建立会话"><a href="#建立会话" class="headerlink" title="建立会话"></a>建立会话</h3><ul>
<li>TCP是面向连接的协议，在发送任何流量之前，源和目的设备之间会协商和建立连接（会话）。</li>
<li>通过会话建立，设备协商可以在特定时间内转发的流量量。</li>
</ul>
<h3 id="可靠传输"><a href="#可靠传输" class="headerlink" title="可靠传输"></a>可靠传输</h3><ul>
<li>可靠性意味着源发送的每个段都能到达目的地，尽管在传输过程中可能会出现段的损坏或完全丢失。</li>
</ul>
<h3 id="顺序传输"><a href="#顺序传输" class="headerlink" title="顺序传输"></a>顺序传输</h3><ul>
<li>由于网络可能提供具有不同传输速率的多条路径，数据可能会错序到达。通过编号和排序段，TCP确保这些段按正确顺序重组。</li>
</ul>
<h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><ul>
<li>网络主机的资源（如内存和处理能力）有限，TCP可以要求发送应用减少数据流速率以匹配主机的有限资源。</li>
<li>流量控制可以防止在接收主机的资源不足时需要重新传输数据。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了TCP如何支持电子邮件、多网页浏览和即时消息等不同网络应用的数据传输。</li>
<li>每种应用的数据传输都通过指向计算机中心的箭头来表示，说明了TCP协议在数据传输中的作用。</li>
<li>图表上的标签“建立会话”、“可靠传输”、“顺序传输”和“流量控制”分别突出了TCP协议的四个关键特性。</li>
</ul>
<p>总结：本部分内容详细描述了TCP协议的关键特性，包括如何建立会话、保证数据传输的可靠性、保证数据顺序正确以及如何进行流量控制。图表直观展示了这些特性在实际网络应用中的实现方式。</p>
<h2 id="UDP特性"><a href="#UDP特性" class="headerlink" title="UDP特性"></a>UDP特性</h2><p>用户数据报协议（UDP）是一种最大努力传输协议，它是一个轻量级的传输协议，没有TCP的可靠性和流量控制。</p>
<h3 id="无序数据重构"><a href="#无序数据重构" class="headerlink" title="无序数据重构"></a>无序数据重构</h3><ul>
<li>数据按接收顺序进行重构，不保证数据的顺序。</li>
</ul>
<h3 id="无连接"><a href="#无连接" class="headerlink" title="无连接"></a>无连接</h3><ul>
<li>不需要会话建立，没有连接的概念。</li>
</ul>
<h3 id="不可靠传输"><a href="#不可靠传输" class="headerlink" title="不可靠传输"></a>不可靠传输</h3><ul>
<li>丢失的数据段不会被重发。</li>
</ul>
<h3 id="无流量控制"><a href="#无流量控制" class="headerlink" title="无流量控制"></a>无流量控制</h3><ul>
<li>不会通知发送方关于资源可用性的信息。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了UDP在IP电话和流媒体视频等应用中的数据传输。</li>
<li>数据传输的方向通过箭头指向各个应用，显示了UDP如何在这些应用中工作。</li>
<li>图表的设计通过不同颜色的框和标签，清晰地标示出UDP的特性。</li>
</ul>
<p>总结：本部分内容详细介绍了UDP的主要特性，包括其无序、无连接、不可靠的传输方式以及缺乏流量控制。图表则具体展示了UDP在实际网络应用中的功能和限制。</p>
<h2 id="传输层协议：更适合哪一个？"><a href="#传输层协议：更适合哪一个？" class="headerlink" title="传输层协议：更适合哪一个？"></a>传输层协议：更适合哪一个？</h2><p>在选择合适的传输层协议时，TCP和UDP各有优势，适用于不同类型的应用。</p>
<h3 id="TCP适用情况"><a href="#TCP适用情况" class="headerlink" title="TCP适用情况"></a>TCP适用情况</h3><ul>
<li>当应用程序的数据段必须按特定顺序到达以成功处理时，TCP是更好的选择。</li>
<li>在所有数据必须完全接收后才被视为有用的应用中，TCP也是必需的。</li>
<li>需要TCP的应用包括：数据库、网页浏览器、电子邮件客户端。</li>
</ul>
<h3 id="UDP适用情况"><a href="#UDP适用情况" class="headerlink" title="UDP适用情况"></a>UDP适用情况</h3><ul>
<li>对于可以容忍一定数据丢失但无法接受传输延迟的应用，UDP是更好的选择。</li>
<li>使用UDP的应用包括：<ul>
<li>实时音频流</li>
<li>实时视频流</li>
<li>语音通话（VoIP）</li>
</ul>
</li>
</ul>
<h3 id="UDP适合的应用类型"><a href="#UDP适合的应用类型" class="headerlink" title="UDP适合的应用类型"></a>UDP适合的应用类型</h3><ul>
<li>可以容忍一些数据丢失的实时视频和多媒体应用。</li>
<li>简单请求和响应应用，如主机发送请求并可能不接收回复的应用。例子包括DNS和DHCP。</li>
<li>可以自行处理可靠性的应用，这类应用不需要流控、错误检测、确认机制或者可以由应用本身处理这些问题。例如SNMP和TFTP。</li>
</ul>
<h3 id="应用开发者的选择"><a href="#应用开发者的选择" class="headerlink" title="应用开发者的选择"></a>应用开发者的选择</h3><ul>
<li>对于某些应用，数据段必须按特定顺序到达才能成功处理，开发者需要根据应用需求选择使用TCP或UDP。</li>
<li>如数据库、网页浏览器和电子邮件客户端等应用需要确保所有数据按原始条件到达目的地，任何缺失的数据都可能导致通信失败，这些情况下通常使用TCP。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表通过不同的颜色和箭头显示了TCP和UDP在不同应用中的使用。</li>
<li>TCP用于FTP、HTTP、SMTP等需要可靠性的应用，而UDP用于DNS、SNMP、TFTP和VoIP这类对实时性要求高的应用。</li>
</ul>
<p>总结：本部分内容详细描述了TCP和UDP在不同应用场景下的适用性。对于需要数据完整性和顺序性的应用，TCP是首选；而对于可以容忍数据丢失并且需要低延迟的实时传输应用，UDP则更合适。图表为理解这些协议在实际应用中的作用提供了直观的帮助。</p>
<h2 id="TCP和UDP头部"><a href="#TCP和UDP头部" class="headerlink" title="TCP和UDP头部"></a>TCP和UDP头部</h2><p>TCP和UDP是两种常用的传输层协议，它们的头部结构反映了各自的特点和用途。</p>
<h3 id="TCP头部"><a href="#TCP头部" class="headerlink" title="TCP头部"></a>TCP头部</h3><ul>
<li>TCP是一种有状态协议，它通过记录哪些信息已发送和确认来跟踪通信会话的状态。</li>
<li>TCP段头部通常有20字节的开销，用于封装应用层数据。</li>
<li>应注意的TCP头部字段包括：<ul>
<li><strong>源端口和目的端口</strong>（各16位）：用于识别应用。</li>
<li><strong>序列号</strong>（32位）：用于数据重组。</li>
<li><strong>确认号</strong>（32位）：指示已接收的数据。</li>
<li><strong>窗口大小</strong>（16位）：表明一次可以接受的字节数。</li>
<li><strong>校验和</strong>（16位）：用于错误检查。</li>
<li><strong>紧急指针</strong>（16位）：指示紧急数据。</li>
</ul>
</li>
</ul>
<h3 id="UDP头部"><a href="#UDP头部" class="headerlink" title="UDP头部"></a>UDP头部</h3><ul>
<li>UDP是一种无状态协议。</li>
<li>如果需要可靠性，必须由应用层来处理。</li>
<li>UDP头部只有8字节的开销。</li>
<li>UDP头部缺少TCP头部的序列号、确认号、窗口和紧急指针等字段。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表详细展示了TCP和UDP头部的结构，包括各个字段的位位置和长度。</li>
<li>TCP头部结构更为复杂，包含更多用于确保数据传输可靠性的字段。</li>
<li>UDP头部结构更为简单，没有复杂的控制信息，适用于对传输速度要求高的应用。</li>
</ul>
<p>总结：TCP头部为了支持可靠的、有序的、错误检测和流量控制的通信而设计得更为复杂。而UDP头部则简洁许多，适合快速传输和不需要TCP复杂控制机制的应用。这些差异使得TCP和UDP适合于不同类型的网络应用和需求。</p>
<h2 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h2><p>在网络通信中，端口号用于区分和管理不同的通信会话。</p>
<h3 id="源端口（Source-Port）"><a href="#源端口（Source-Port）" class="headerlink" title="源端口（Source Port）"></a>源端口（Source Port）</h3><ul>
<li>源端口号由发送设备动态生成，用于识别两个设备之间的对话。</li>
<li>一个HTTP客户端通常同时向一个网站服务器发送多个HTTP请求。每个独立的HTTP会话都基于源端口号来跟踪。</li>
</ul>
<h3 id="目的端口（Destination-Port）"><a href="#目的端口（Destination-Port）" class="headerlink" title="目的端口（Destination Port）"></a>目的端口（Destination Port）</h3><ul>
<li>目的端口用于识别服务器中运行的应用程序或服务。</li>
<li>一个服务器可以同时提供多项服务，例如同时提供位于端口80的网络服务和位于端口21的文件传输服务（FTP）。</li>
</ul>
<h3 id="端口号类型"><a href="#端口号类型" class="headerlink" title="端口号类型"></a>端口号类型</h3><ul>
<li><strong>众所周知的端口号（0到1023）</strong>：这些端口号保留给常用的服务和应用程序，如网页浏览器、电子邮件客户端和远程访问服务。服务器应用程序、客户端应用程序可以被编程请求连接到这些特定端口及其关联服务。</li>
<li><strong>注册端口号（1024到49151）</strong>：这些端口号由IANA（负责分配IP地址的标准化机构）分配给请求实体，用于特定的进程或应用程序。这些进程主要是用户选择安装的个别应用程序，而不是通用应用程序。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了源端口和目的端口在电子邮件、HTML页面和网络聊天等不同应用中的使用。</li>
<li>图中通过不同的协议、数据和端口号的颜色编码和箭头指示了数据的传输路径。</li>
</ul>
<p>总结：端口号是网络通信中用于识别和管理多个通信会话的关键工具。源端口号和目的端口号分别与本地主机上的发起应用程序和远端主机上的目的应用程序相关联。不同类型的端口号支持网络中的多样化应用和服务。图表清晰展示了端口号在网络通信中的具体应用。</p>
<h2 id="多路复用与解复用"><a href="#多路复用与解复用" class="headerlink" title="多路复用与解复用"></a>多路复用与解复用</h2><p>在传输层，多路复用与解复用是数据传输的重要机制。</p>
<h3 id="多路复用（Multiplexing-at-sender）"><a href="#多路复用（Multiplexing-at-sender）" class="headerlink" title="多路复用（Multiplexing at sender）"></a>多路复用（Multiplexing at sender）</h3><ul>
<li>发送方处理来自多个套接字的数据，添加传输头部（后续用于解复用）。</li>
</ul>
<h3 id="解复用（Demultiplexing-at-receiver）"><a href="#解复用（Demultiplexing-at-receiver）" class="headerlink" title="解复用（Demultiplexing at receiver）"></a>解复用（Demultiplexing at receiver）</h3><ul>
<li>接收方使用头部信息将接收到的段分发到正确的套接字。</li>
</ul>
<h3 id="主机接收IP数据报"><a href="#主机接收IP数据报" class="headerlink" title="主机接收IP数据报"></a>主机接收IP数据报</h3><ul>
<li>每个数据报都有源IP地址和目的IP地址。</li>
<li>每个数据报承载一个传输层段。</li>
<li>每个段都有源端口和目的端口号。</li>
</ul>
<h3 id="IP地址与端口号"><a href="#IP地址与端口号" class="headerlink" title="IP地址与端口号"></a>IP地址与端口号</h3><ul>
<li>主机使用IP地址和端口号将段定向到适当的套接字。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了数据从应用层通过传输层、网络层、链路层到物理层的过程，以及如何在发送方进行多路复用和在接收方进行解复用。</li>
<li>示意图中显示了不同的应用（如P1、P2、P3、P4）如何通过各自的套接字和端口与网络通信。</li>
</ul>
<p>总结：多路复用和解复用是网络通信中确保数据能够从多个应用高效发送并准确送达到目标应用的关键技术。图表清晰地展示了这一过程，说明了如何利用IP地址和端口号来区分和管理多个并发的网络通信会话。</p>
<h2 id="无连接的解复用（Connectionless-Demultiplexing）"><a href="#无连接的解复用（Connectionless-Demultiplexing）" class="headerlink" title="无连接的解复用（Connectionless Demultiplexing）"></a>无连接的解复用（Connectionless Demultiplexing）</h2><p>无连接的解复用是传输层中的一个关键概念，尤其是在使用UDP协议时。</p>
<h3 id="发送UDP数据报时需回想的事项"><a href="#发送UDP数据报时需回想的事项" class="headerlink" title="发送UDP数据报时需回想的事项"></a>发送UDP数据报时需回想的事项</h3><ul>
<li>发送到UDP套接字的数据报必须指定目的IP地址和目的端口号。</li>
</ul>
<h3 id="无连接的解复用过程"><a href="#无连接的解复用过程" class="headerlink" title="无连接的解复用过程"></a>无连接的解复用过程</h3><ul>
<li>拥有相同目的端口号的IP&#x2F;UDP数据报，即使源IP地址和&#x2F;或源端口号不同，也会被引导到接收主机的同一个套接字。</li>
<li>当接收主机收到UDP段时：<ul>
<li>它会检查段中的目的端口号。</li>
<li>将UDP段引导到带有该端口号的套接字。</li>
</ul>
</li>
</ul>
<p>图表解释：</p>
<ul>
<li>此图表未显示，但基于描述，它可能展示了数据如何在网络中从发送方流向接收方，以及如何根据端口号对数据进行解复用。</li>
</ul>
<p>总结：无连接解复用允许UDP数据报被正确地引导到接收主机的相应套接字。这一过程依赖于数据报中的目的端口号，而与源IP地址或源端口号无关。这使得即使在UDP的无连接环境中，数据也能被有效地分发到正确的应用程序。</p>
<h2 id="无连接的解复用：一个示例"><a href="#无连接的解复用：一个示例" class="headerlink" title="无连接的解复用：一个示例"></a>无连接的解复用：一个示例</h2><p>通过UDP的无连接解复用，数据可以被高效地分配到正确的接收端应用程序。</p>
<h3 id="UDP发送方的行为"><a href="#UDP发送方的行为" class="headerlink" title="UDP发送方的行为"></a>UDP发送方的行为</h3><ul>
<li>收到一个应用层消息。</li>
<li>确定UDP段头部字段的值。</li>
<li>创建UDP段。</li>
<li>将段传递给IP层。</li>
</ul>
<h3 id="UDP接收方的行为"><a href="#UDP接收方的行为" class="headerlink" title="UDP接收方的行为"></a>UDP接收方的行为</h3><ul>
<li>从IP层接收段。</li>
<li>检查UDP校验和头部值。</li>
<li>提取应用层消息。</li>
<li>通过套接字将消息解复用到应用层。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了从发送方到接收方的UDP通信流程。</li>
<li>每个应用程序使用特定的源端口向目的端口发送数据。</li>
<li>在接收方，不同的应用程序（如P3、P4）根据目的端口号接收数据。</li>
</ul>
<p>总结：无连接解复用使得在UDP通信中，即使没有建立持续的会话状态，数据也能被正确地发送和接收。图表直观展示了这一过程，包括如何使用端口号在多个并发通信会话中分配数据。</p>
<h2 id="面向连接的解复用：示例"><a href="#面向连接的解复用：示例" class="headerlink" title="面向连接的解复用：示例"></a>面向连接的解复用：示例</h2><p>面向连接的解复用是TCP协议中用于区分和管理多个通信会话的技术。</p>
<h3 id="服务器可能支持多个TCP套接字"><a href="#服务器可能支持多个TCP套接字" class="headerlink" title="服务器可能支持多个TCP套接字"></a>服务器可能支持多个TCP套接字</h3><ul>
<li>每个套接字通过其源IP地址、源端口号、目的IP地址和目的端口号来识别。</li>
<li>每个套接字与不同的连接客户端相关联。</li>
</ul>
<h3 id="多路复用和解复用的基础"><a href="#多路复用和解复用的基础" class="headerlink" title="多路复用和解复用的基础"></a>多路复用和解复用的基础</h3><ul>
<li>基于段、数据报头部字段值的多路复用和解复用。</li>
<li>在UDP中，仅使用目的端口号进行解复用。</li>
<li>在TCP中，使用源和目的IP地址以及端口号进行解复用。</li>
<li>在所有层次上都会发生多路复用和解复用。</li>
</ul>
<h3 id="示例详解"><a href="#示例详解" class="headerlink" title="示例详解"></a>示例详解</h3><ul>
<li>图表显示三个段，都目标为IP地址B，目的端口为80，它们被解复用到不同的套接字。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了不同主机（A、B、C）的应用程序（P1、P2、P3、P4、P5、P6）通过TCP通信。</li>
<li>这些应用程序发送的段都经过网络层、传输层和物理层，最终到达服务器。</li>
<li>服务器使用目的端口号将接收到的不同段解复用到不同的套接字。</li>
</ul>
<p>总结：面向连接的解复用使TCP协议能够准确地管理和分发到达服务器的多个连接请求。通过端口号和IP地址的结合，服务器能够将数据准确地分发到对应的进程或服务。图表为我们提供了TCP解复用的直观示例，展示了其在网络通信中如何运作。</p>
<h2 id="停等协议操作"><a href="#停等协议操作" class="headerlink" title="停等协议操作"></a>停等协议操作</h2><p>停等协议是一种基本的数据传输协议，它在数据传输过程中的行为如下：</p>
<h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li><strong>往返时间RTT</strong>：数据包往返一次的时间。</li>
<li><strong>L &#x2F; R</strong>：生成数据包位并将其放置到信道上的时间，取决于信道容量R和数据包长度L。</li>
</ul>
<h3 id="发送方和接收方的交互"><a href="#发送方和接收方的交互" class="headerlink" title="发送方和接收方的交互"></a>发送方和接收方的交互</h3><ul>
<li>发送方在时间<code>t = 0</code>发送第一个数据包的第一位。</li>
<li>接收方收到第一个数据包的第一位后，等待接收整个数据包。</li>
<li>接收方在收到最后一位后发送确认（ACK）。</li>
<li>发送方在收到ACK后，再发送下一个数据包，此时<code>t = RTT + L / R</code>。</li>
</ul>
<h3 id="协议限制"><a href="#协议限制" class="headerlink" title="协议限制"></a>协议限制</h3><ul>
<li>发送方在确信接收方正确接收了当前数据包之前，不会发送新的数据片段。</li>
<li>此协议限制了底层基础设施（信道）的性能——当RTT比L&#x2F;R更重要时，效率较低。</li>
</ul>
<h3 id="改进方法-管道化"><a href="#改进方法-管道化" class="headerlink" title="改进方法 - 管道化"></a>改进方法 - 管道化</h3><ul>
<li>发送方允许多个尚未被确认的数据包。<ul>
<li>数据包将添加序列号。</li>
<li>在发送方和&#x2F;或接收方进行缓冲。</li>
</ul>
</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表显示了发送方和接收方在停等协议操作中的数据传输时间线。</li>
<li>它描绘了数据包传输、确认回传的过程，并指出了在接收方确认收到数据包之前，发送方不会发送新数据包的操作特点。</li>
</ul>
<p>总结：停等协议是一种简单的通信协议，它在每次数据传输后都需要等待确认，这可能导致效率低下。管道化是对此协议的一种改进，它通过允许发送多个数据包以及在发送方和接收方处进行缓冲来提高传输效率。</p>
<h2 id="管道化：提高利用率"><a href="#管道化：提高利用率" class="headerlink" title="管道化：提高利用率"></a>管道化：提高利用率</h2><p>管道化是传输层中提高信道利用率的一种技术。</p>
<h3 id="管道化基本原理"><a href="#管道化基本原理" class="headerlink" title="管道化基本原理"></a>管道化基本原理</h3><ul>
<li>发送方在<code>t = 0</code>时刻发送数据包的第一个比特。</li>
<li>最后一个比特在<code>t = L / R</code>时刻发送。</li>
<li>接收方接收到每个数据包的最后一个比特后发送确认（ACK）。</li>
</ul>
<h3 id="管道化操作"><a href="#管道化操作" class="headerlink" title="管道化操作"></a>管道化操作</h3><ul>
<li>当发送方收到ACK后，它会发送下一个数据包，此时<code>t = RTT + L / R</code>。</li>
<li>通过这种方式，可以在等待前一个数据包的确认时发送多个数据包。</li>
</ul>
<h3 id="效率计算"><a href="#效率计算" class="headerlink" title="效率计算"></a>效率计算</h3><ul>
<li>三个数据包的管道化可以将利用率提高3倍，计算公式为：<br>[ U_{\text{sender}} &#x3D; \frac{3L &#x2F; R}{RTT + L &#x2F; R} ]</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表展示了发送方和接收方在管道化操作下的数据传输时间线。</li>
<li>它表明了发送方可以在不等待单个数据包确认的情况下连续发送多个数据包。</li>
<li>接收方在接收到每个数据包后发送ACK，而发送方在接收到ACK后继续发送下一批数据包。</li>
</ul>
<p>总结：管道化通过允许发送方在等待前一个数据包的确认时发送多个数据包，从而显著提高了信道的利用率。这种方法在具有高往返时间（RTT）的网络中特别有用，可以有效减少因等待ACK而产生的空闲时间。</p>
<h2 id="回退N步协议（Go-Back-N）"><a href="#回退N步协议（Go-Back-N）" class="headerlink" title="回退N步协议（Go-Back-N）"></a>回退N步协议（Go-Back-N）</h2><p>回退N步协议是一种错误恢复机制，用于处理可靠数据传输中的丢包问题。</p>
<h3 id="发送方"><a href="#发送方" class="headerlink" title="发送方"></a>发送方</h3><ul>
<li>使用最多N个连续的未确认包的“窗口”。</li>
<li>累积确认ACK(n)：确认所有包括n在内的前面的包。</li>
<li>收到ACK(n)后，窗口向前移动到n+1。</li>
<li>如果最老的在途包超时，重传该包和窗口中所有更高序号的包。</li>
</ul>
<h3 id="接收方"><a href="#接收方" class="headerlink" title="接收方"></a>接收方</h3><ul>
<li>仅ACK：总是发送对于迄今为止正确接收的包的ACK，其序号最高。</li>
<li>可能生成重复的ACK。</li>
<li>收到乱序包时，重新发送具有最高按序序号的ACK。</li>
</ul>
<h3 id="动作示例"><a href="#动作示例" class="headerlink" title="动作示例"></a>动作示例</h3><ul>
<li>图表显示了一个使用4个包窗口的发送方的回退N步操作。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表详细描述了发送方和接收方在Go-Back-N协议中数据包的发送、接收以及确认过程。</li>
<li>展示了当数据包2丢失时，即使后续数据包被接收，发送方也会在超时后重传数据包2及所有后续数据包。</li>
</ul>
<p>总结：回退N步协议通过使用窗口和累积确认来提高数据传输的效率，同时确保了在出现丢包时能够恢复丢失的数据包。虽然这种方法可能导致一些不必要的重传，但它简化了接收方的处理流程，并确保了数据的可靠性。</p>
<h2 id="Go-Back-N协议实例"><a href="#Go-Back-N协议实例" class="headerlink" title="Go-Back-N协议实例"></a>Go-Back-N协议实例</h2><p>Go-Back-N协议是一种基于滑动窗口的错误控制策略，用于可靠的数据传输。</p>
<h3 id="发送方-1"><a href="#发送方-1" class="headerlink" title="发送方"></a>发送方</h3><ul>
<li>使用窗口大小为N的滑动窗口发送连续的数据包。</li>
<li>在等待确认（ACK）期间可以发送多个数据包。</li>
<li>如果数据包丢失或超时，发送方会重传该数据包以及窗口中所有后续的数据包。</li>
</ul>
<h3 id="接收方-1"><a href="#接收方-1" class="headerlink" title="接收方"></a>接收方</h3><ul>
<li>仅对按顺序接收的数据包发送ACK。</li>
<li>如果接收到的数据包顺序不正确，会丢弃它并重发最后一个正确接收的数据包的ACK。</li>
</ul>
<h3 id="时间线图示"><a href="#时间线图示" class="headerlink" title="时间线图示"></a>时间线图示</h3><ul>
<li>发送方和接收方的操作通过时间线图形展示。</li>
<li>丢包、超时和重传事件在图中清晰表示。</li>
</ul>
<h3 id="效率"><a href="#效率" class="headerlink" title="效率"></a>效率</h3><ul>
<li>Go-Back-N协议在出现错误时可能导致大量的重传，因此可能效率较低。</li>
<li>但是，当通道错误率较低时，它允许较高的数据传输利用率。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表详细展示了Go-Back-N协议的工作原理，包括数据包发送、接收和确认的过程。</li>
<li>同时展示了数据包丢失和超时后的重传机制。</li>
<li>发送窗口的移动和数据包的重传过程在图中以不同颜色标识。</li>
</ul>
<p>总结：Go-Back-N协议通过使用滑动窗口和重传机制来确保数据传输的可靠性。这个例子清楚地展示了在连续数据流中如何处理数据包的丢失和接收确认，以及如何在错误发生时进行高效的错误恢复。</p>
<h2 id="选择重传（Selective-Repeat）"><a href="#选择重传（Selective-Repeat）" class="headerlink" title="选择重传（Selective Repeat）"></a>选择重传（Selective Repeat）</h2><p>选择重传是一种提高数据传输效率的错误恢复机制，它允许只重传那些未被确认的数据包。</p>
<h3 id="接收方-2"><a href="#接收方-2" class="headerlink" title="接收方"></a>接收方</h3><ul>
<li><strong>逐个确认</strong>：对所有正确接收的数据包进行单独确认。</li>
<li><strong>数据包缓存</strong>：根据需要缓存数据包，以便最终按顺序交付给上层。</li>
</ul>
<h3 id="发送方-2"><a href="#发送方-2" class="headerlink" title="发送方"></a>发送方</h3><ul>
<li><strong>超时重传</strong>：对每个未确认的数据包维护一个计时器，一旦超时即重传该数据包。</li>
<li><strong>发送窗口</strong>：维护N个连续序列号的数据包窗口。</li>
</ul>
<h3 id="选择重传动作展示"><a href="#选择重传动作展示" class="headerlink" title="选择重传动作展示"></a>选择重传动作展示</h3><ul>
<li>在给定的发送窗口大小（N&#x3D;4）下，发送方发送数据包，而接收方对每个正确收到的数据包发送确认。</li>
<li>如果数据包丢失，发送方只会重传那个特定的数据包。</li>
<li>如果数据包超时，发送方会重传超时的数据包，但不会重传窗口中的其他数据包。</li>
</ul>
<h3 id="时间线图示-1"><a href="#时间线图示-1" class="headerlink" title="时间线图示"></a>时间线图示</h3><ul>
<li>展示了发送方和接收方在选择重传协议下的数据传输时间线。</li>
<li>突出显示了数据包丢失、接收、缓存、确认和超时重传的情况。</li>
</ul>
<h3 id="效率和问题"><a href="#效率和问题" class="headerlink" title="效率和问题"></a>效率和问题</h3><ul>
<li>选择重传协议通过只重传未确认的数据包来提高信道利用率。</li>
<li>询问：“当ack2到达时会发生什么？”表明了在此协议中接收方如何处理之前未按顺序到达的数据包。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表详细展示了选择重传协议的工作原理，包括数据包的发送、接收、缓存、确认以及超时重传。</li>
<li>通过颜色编码和箭头指示清晰地显示了数据包的状态和流程。</li>
</ul>
<p>总结：选择重传协议有效地减少了不必要的重传，提高了数据传输的效率。通过单独确认机制和数据包缓存，它确保了数据的可靠传输并最小化了延迟。图表为我们提供了一个关于如何在实际网络环境中应用选择重传协议的直观示例。</p>
<h2 id="TCP连接建立"><a href="#TCP连接建立" class="headerlink" title="TCP连接建立"></a>TCP连接建立</h2><p>TCP连接的建立是一个三步骤的过程，常称为三次握手。</p>
<h3 id="三次握手步骤"><a href="#三次握手步骤" class="headerlink" title="三次握手步骤"></a>三次握手步骤</h3><ol>
<li><strong>发起客户端请求</strong>：发起客户端向服务器请求一个客户端到服务器的通信会话。</li>
<li><strong>服务器确认</strong>：服务器确认客户端到服务器的通信会话，并请求一个服务器到客户端的通信会话。</li>
<li><strong>客户端确认</strong>：发起客户端确认服务器到客户端的通信会话。</li>
</ol>
<h3 id="通信过程"><a href="#通信过程" class="headerlink" title="通信过程"></a>通信过程</h3><ul>
<li>在TCP连接中，主机客户端通过与服务器握手来建立连接。</li>
<li>这一过程通常被称为TCP三次握手。</li>
</ul>
<h3 id="文化比喻"><a href="#文化比喻" class="headerlink" title="文化比喻"></a>文化比喻</h3><ul>
<li>在某些文化中，两个人见面时会握手致意。握手行为被双方理解为友好问候的信号。网络上的连接类似。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表显示了TCP连接建立的三次握手过程。</li>
<li>包括SYN（同步序列编号）和ACK（确认）消息的交换。</li>
</ul>
<p>总结：TCP连接建立的三次握手是网络通信中确保双方准备好发送和接收数据的关键步骤。这个过程确保了通信的可靠性，类似于人与人之间通过握手建立联系的方式。</p>
<h2 id="TCP三次握手分析"><a href="#TCP三次握手分析" class="headerlink" title="TCP三次握手分析"></a>TCP三次握手分析</h2><p>TCP三次握手确保了网络上的通信的可靠性和有效性。</p>
<h3 id="三次握手的作用"><a href="#三次握手的作用" class="headerlink" title="三次握手的作用"></a>三次握手的作用</h3><ul>
<li>确立目标设备存在于网络上。</li>
<li>验证目标设备有一个活跃的服务，并且正在接受发起客户端打算使用的目标端口号上的请求。</li>
<li>通知目标设备源客户端打算在该端口号上建立通信会话。</li>
</ul>
<h3 id="TCP头部分析"><a href="#TCP头部分析" class="headerlink" title="TCP头部分析"></a>TCP头部分析</h3><ul>
<li>TCP头部包含多个字段，用于在三次握手过程中交换控制信息。</li>
<li><strong>源端口号</strong>和<strong>目标端口号</strong>字段指定了通信的起点和终点。</li>
<li><strong>序列号</strong>和<strong>确认号</strong>用于确保数据的顺序和可靠交付。</li>
<li><strong>控制位</strong>包括URG、ACK、PSH、RST、SYN和FIN等，用于控制TCP的状态和行为。</li>
</ul>
<h3 id="重要字段"><a href="#重要字段" class="headerlink" title="重要字段"></a>重要字段</h3><ul>
<li><strong>URG</strong>（紧急指针字段）：表示紧急数据的存在。</li>
<li><strong>ACK</strong>（确认字段）：表示之前发送的数据已成功接收。</li>
<li><strong>PSH</strong>（推送功能）：提示接收端尽快将这些数据传给应用层。</li>
<li><strong>RST</strong>（重置连接）：用于重置错误的连接。</li>
<li><strong>SYN</strong>（同步序列号）：在建立连接时使用，用于同步序列号。</li>
<li><strong>FIN</strong>（终止）：表示发送端没有更多的数据要发送。</li>
</ul>
<p>图表解释：</p>
<ul>
<li>图表显示了TCP头部的结构，包括每个字段的位置和作用。</li>
<li>20字节的头部长度表示了TCP头部的标准大小，没有包括任何选项。</li>
</ul>
<p>总结：TCP三次握手是网络通信中一个重要的过程，它通过精心设计的头部字段来确保数据传输的可靠性和顺序性。这种机制允许双方在数据传输开始前协商和确认通信参数，确保了数据传输的稳定性。</p>
<h2 id="TCP会话终止"><a href="#TCP会话终止" class="headerlink" title="TCP会话终止"></a>TCP会话终止</h2><p>TCP会话终止是一个确保TCP连接安全关闭的过程。</p>
<h3 id="会话终止步骤"><a href="#会话终止步骤" class="headerlink" title="会话终止步骤"></a>会话终止步骤</h3><ul>
<li>当客户端没有更多数据发送时，它发送一个设置了FIN标志的段。</li>
<li>服务器发送ACK以确认收到FIN，并从客户端终止会话。</li>
<li>服务器发送FIN给客户端，以终止从服务器到客户端的会话。</li>
<li>客户端响应ACK以确认从服务器收到的FIN。</li>
<li>所有段都被确认后，会话关闭。</li>
</ul>
<h3 id="图表解释"><a href="#图表解释" class="headerlink" title="图表解释"></a>图表解释</h3><ul>
<li>图表展示了TCP会话终止的步骤，包括客户端和服务器之间的消息交换。</li>
</ul>
<h3 id="关键点"><a href="#关键点" class="headerlink" title="关键点"></a>关键点</h3><ul>
<li><strong>FIN</strong>标志用于终止TCP连接。</li>
<li>必须经过四次交换来结束一个单向的TCP会话，这实际上是一个两步握手过程，包括一个FIN段和一个ACK段。</li>
</ul>
<p>总结：TCP会话的终止过程是通信过程中的重要部分，确保了所有数据都能得到妥善处理，且资源能被释放，使得双方都能准备好新的连接。这个过程类似于两个人结束对话并分别之前的一次握手。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Jacka10086</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2024/02/26/301%E7%AC%AC%E4%BA%94%E5%91%A8LEC/">http://example.com/2024/02/26/301%E7%AC%AC%E4%BA%94%E5%91%A8LEC/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/301/">301</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/10/18/fq6OmvaUIxkbdo5.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/02/23/301%E7%AC%AC%E5%9B%9B%E5%91%A8Lab7/" title="301第四周Lab7"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">301第四周Lab7</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2024/02/23/301%E7%AC%AC%E5%9B%9B%E5%91%A8Lab7/" title="301第四周Lab7"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-23</div><div class="title">301第四周Lab7</div></div></a></div><div><a href="/2024/02/23/301%E7%AC%AC%E5%9B%9B%E5%91%A8TUL/" title="301第四周TUL"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-23</div><div class="title">301第四周TUL</div></div></a></div><div><a href="/2024/02/19/301%E7%AC%AC%E5%9B%9B%E5%91%A8LEC/" title="301第四周LEC"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-19</div><div class="title">301第四周LEC</div></div></a></div><div><a href="/2024/02/14/301%E7%AC%AC%E4%B8%89%E5%91%A8LAB6/" title="301第三周LAB6"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-14</div><div class="title">301第三周LAB6</div></div></a></div><div><a href="/2024/02/14/301%E7%AC%AC%E4%B8%89%E5%91%A8LAB5/" title="301第三周LAB5"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-14</div><div class="title">301第三周LAB5</div></div></a></div><div><a href="/2024/02/11/301%E7%AC%AC%E4%B8%89%E5%91%A8TUL/" title="301第三周TUL"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-11</div><div class="title">301第三周TUL</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/10/18/fq6OmvaUIxkbdo5.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jacka10086</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">112</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Jacka10086"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CMP301-%E2%80%93-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%BA%94%E5%91%A8%E8%AF%BE%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">CMP301 – 计算机网络 第五周课程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.1.</span> <span class="toc-text">传输层和应用层</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">传输层的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%9C%8D%E5%8A%A1%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.</span> <span class="toc-text">传输服务和协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E9%80%9A%E4%BF%A1"><span class="toc-number">3.1.</span> <span class="toc-text">逻辑通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%E8%A1%8C%E4%B8%BA"><span class="toc-number">3.2.</span> <span class="toc-text">端系统中的传输协议行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E4%BE%9B%E4%BA%92%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.3.</span> <span class="toc-text">可供互联网应用使用的传输协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E8%81%8C%E8%B4%A3"><span class="toc-number">4.</span> <span class="toc-text">传输层职责</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%BD%E8%B8%AA%E5%8D%95%E7%8B%AC%E4%BC%9A%E8%AF%9D"><span class="toc-number">4.1.</span> <span class="toc-text">追踪单独会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%AE%B5%E6%95%B0%E6%8D%AE%E5%92%8C%E9%87%8D%E7%BB%84%E6%AE%B5"><span class="toc-number">4.2.</span> <span class="toc-text">分段数据和重组段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%86%E5%88%AB%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.3.</span> <span class="toc-text">识别应用程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">传输层可靠性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="toc-number">5.1.</span> <span class="toc-text">管理可靠性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.2.</span> <span class="toc-text">传输层协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E4%B8%8EUDP%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">5.3.</span> <span class="toc-text">TCP与UDP的比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-%E4%B8%8E-UDP"><span class="toc-number">6.</span> <span class="toc-text">TCP 与 UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%EF%BC%88%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">TCP（传输控制协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%EF%BC%88%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">UDP（用户数据报协议）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E7%89%B9%E6%80%A7"><span class="toc-number">7.</span> <span class="toc-text">TCP特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E4%BC%9A%E8%AF%9D"><span class="toc-number">7.1.</span> <span class="toc-text">建立会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">7.2.</span> <span class="toc-text">可靠传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E4%BC%A0%E8%BE%93"><span class="toc-number">7.3.</span> <span class="toc-text">顺序传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">7.4.</span> <span class="toc-text">流量控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E7%89%B9%E6%80%A7"><span class="toc-number">8.</span> <span class="toc-text">UDP特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%BA%8F%E6%95%B0%E6%8D%AE%E9%87%8D%E6%9E%84"><span class="toc-number">8.1.</span> <span class="toc-text">无序数据重构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5"><span class="toc-number">8.2.</span> <span class="toc-text">无连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">8.3.</span> <span class="toc-text">不可靠传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">8.4.</span> <span class="toc-text">无流量控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE%EF%BC%9A%E6%9B%B4%E9%80%82%E5%90%88%E5%93%AA%E4%B8%80%E4%B8%AA%EF%BC%9F"><span class="toc-number">9.</span> <span class="toc-text">传输层协议：更适合哪一个？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E9%80%82%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">9.1.</span> <span class="toc-text">TCP适用情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E9%80%82%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">9.2.</span> <span class="toc-text">UDP适用情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E9%80%82%E5%90%88%E7%9A%84%E5%BA%94%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">9.3.</span> <span class="toc-text">UDP适合的应用类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">9.4.</span> <span class="toc-text">应用开发者的选择</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E5%92%8CUDP%E5%A4%B4%E9%83%A8"><span class="toc-number">10.</span> <span class="toc-text">TCP和UDP头部</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%A4%B4%E9%83%A8"><span class="toc-number">10.1.</span> <span class="toc-text">TCP头部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E5%A4%B4%E9%83%A8"><span class="toc-number">10.2.</span> <span class="toc-text">UDP头部</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">11.</span> <span class="toc-text">端口号</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%AB%AF%E5%8F%A3%EF%BC%88Source-Port%EF%BC%89"><span class="toc-number">11.1.</span> <span class="toc-text">源端口（Source Port）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E7%9A%84%E7%AB%AF%E5%8F%A3%EF%BC%88Destination-Port%EF%BC%89"><span class="toc-number">11.2.</span> <span class="toc-text">目的端口（Destination Port）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%B1%BB%E5%9E%8B"><span class="toc-number">11.3.</span> <span class="toc-text">端口号类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E4%B8%8E%E8%A7%A3%E5%A4%8D%E7%94%A8"><span class="toc-number">12.</span> <span class="toc-text">多路复用与解复用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%EF%BC%88Multiplexing-at-sender%EF%BC%89"><span class="toc-number">12.1.</span> <span class="toc-text">多路复用（Multiplexing at sender）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%A4%8D%E7%94%A8%EF%BC%88Demultiplexing-at-receiver%EF%BC%89"><span class="toc-number">12.2.</span> <span class="toc-text">解复用（Demultiplexing at receiver）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E6%8E%A5%E6%94%B6IP%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="toc-number">12.3.</span> <span class="toc-text">主机接收IP数据报</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">12.4.</span> <span class="toc-text">IP地址与端口号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%A7%A3%E5%A4%8D%E7%94%A8%EF%BC%88Connectionless-Demultiplexing%EF%BC%89"><span class="toc-number">13.</span> <span class="toc-text">无连接的解复用（Connectionless Demultiplexing）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81UDP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%97%B6%E9%9C%80%E5%9B%9E%E6%83%B3%E7%9A%84%E4%BA%8B%E9%A1%B9"><span class="toc-number">13.1.</span> <span class="toc-text">发送UDP数据报时需回想的事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%A7%A3%E5%A4%8D%E7%94%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">13.2.</span> <span class="toc-text">无连接的解复用过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%A7%A3%E5%A4%8D%E7%94%A8%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%A4%BA%E4%BE%8B"><span class="toc-number">14.</span> <span class="toc-text">无连接的解复用：一个示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E5%8F%91%E9%80%81%E6%96%B9%E7%9A%84%E8%A1%8C%E4%B8%BA"><span class="toc-number">14.1.</span> <span class="toc-text">UDP发送方的行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%8E%A5%E6%94%B6%E6%96%B9%E7%9A%84%E8%A1%8C%E4%B8%BA"><span class="toc-number">14.2.</span> <span class="toc-text">UDP接收方的行为</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%A7%A3%E5%A4%8D%E7%94%A8%EF%BC%9A%E7%A4%BA%E4%BE%8B"><span class="toc-number">15.</span> <span class="toc-text">面向连接的解复用：示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%AF%E8%83%BD%E6%94%AF%E6%8C%81%E5%A4%9A%E4%B8%AATCP%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="toc-number">15.1.</span> <span class="toc-text">服务器可能支持多个TCP套接字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%92%8C%E8%A7%A3%E5%A4%8D%E7%94%A8%E7%9A%84%E5%9F%BA%E7%A1%80"><span class="toc-number">15.2.</span> <span class="toc-text">多路复用和解复用的基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E8%AF%A6%E8%A7%A3"><span class="toc-number">15.3.</span> <span class="toc-text">示例详解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%9C%E7%AD%89%E5%8D%8F%E8%AE%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">16.</span> <span class="toc-text">停等协议操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">16.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%96%B9%E5%92%8C%E6%8E%A5%E6%94%B6%E6%96%B9%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="toc-number">16.2.</span> <span class="toc-text">发送方和接收方的交互</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E9%99%90%E5%88%B6"><span class="toc-number">16.3.</span> <span class="toc-text">协议限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B%E6%96%B9%E6%B3%95-%E7%AE%A1%E9%81%93%E5%8C%96"><span class="toc-number">16.4.</span> <span class="toc-text">改进方法 - 管道化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E5%8C%96%EF%BC%9A%E6%8F%90%E9%AB%98%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">17.</span> <span class="toc-text">管道化：提高利用率</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E5%8C%96%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">17.1.</span> <span class="toc-text">管道化基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E5%8C%96%E6%93%8D%E4%BD%9C"><span class="toc-number">17.2.</span> <span class="toc-text">管道化操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E7%8E%87%E8%AE%A1%E7%AE%97"><span class="toc-number">17.3.</span> <span class="toc-text">效率计算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E9%80%80N%E6%AD%A5%E5%8D%8F%E8%AE%AE%EF%BC%88Go-Back-N%EF%BC%89"><span class="toc-number">18.</span> <span class="toc-text">回退N步协议（Go-Back-N）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%96%B9"><span class="toc-number">18.1.</span> <span class="toc-text">发送方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E6%96%B9"><span class="toc-number">18.2.</span> <span class="toc-text">接收方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E4%BD%9C%E7%A4%BA%E4%BE%8B"><span class="toc-number">18.3.</span> <span class="toc-text">动作示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-Back-N%E5%8D%8F%E8%AE%AE%E5%AE%9E%E4%BE%8B"><span class="toc-number">19.</span> <span class="toc-text">Go-Back-N协议实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%96%B9-1"><span class="toc-number">19.1.</span> <span class="toc-text">发送方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E6%96%B9-1"><span class="toc-number">19.2.</span> <span class="toc-text">接收方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%BA%BF%E5%9B%BE%E7%A4%BA"><span class="toc-number">19.3.</span> <span class="toc-text">时间线图示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E7%8E%87"><span class="toc-number">19.4.</span> <span class="toc-text">效率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%EF%BC%88Selective-Repeat%EF%BC%89"><span class="toc-number">20.</span> <span class="toc-text">选择重传（Selective Repeat）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E6%96%B9-2"><span class="toc-number">20.1.</span> <span class="toc-text">接收方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%96%B9-2"><span class="toc-number">20.2.</span> <span class="toc-text">发送方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8A%A8%E4%BD%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">20.3.</span> <span class="toc-text">选择重传动作展示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%BA%BF%E5%9B%BE%E7%A4%BA-1"><span class="toc-number">20.4.</span> <span class="toc-text">时间线图示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E7%8E%87%E5%92%8C%E9%97%AE%E9%A2%98"><span class="toc-number">20.5.</span> <span class="toc-text">效率和问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B"><span class="toc-number">21.</span> <span class="toc-text">TCP连接建立</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%AD%A5%E9%AA%A4"><span class="toc-number">21.1.</span> <span class="toc-text">三次握手步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B"><span class="toc-number">21.2.</span> <span class="toc-text">通信过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%8C%96%E6%AF%94%E5%96%BB"><span class="toc-number">21.3.</span> <span class="toc-text">文化比喻</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%88%86%E6%9E%90"><span class="toc-number">22.</span> <span class="toc-text">TCP三次握手分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">22.1.</span> <span class="toc-text">三次握手的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%A4%B4%E9%83%A8%E5%88%86%E6%9E%90"><span class="toc-number">22.2.</span> <span class="toc-text">TCP头部分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%AD%97%E6%AE%B5"><span class="toc-number">22.3.</span> <span class="toc-text">重要字段</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E4%BC%9A%E8%AF%9D%E7%BB%88%E6%AD%A2"><span class="toc-number">23.</span> <span class="toc-text">TCP会话终止</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E7%BB%88%E6%AD%A2%E6%AD%A5%E9%AA%A4"><span class="toc-number">23.1.</span> <span class="toc-text">会话终止步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8%E8%A7%A3%E9%87%8A"><span class="toc-number">23.2.</span> <span class="toc-text">图表解释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-number">23.3.</span> <span class="toc-text">关键点</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/26/301%E7%AC%AC%E4%BA%94%E5%91%A8LEC/" title="301第五周LEC">301第五周LEC</a><time datetime="2024-02-26T16:37:58.000Z" title="Created 2024-02-26 16:37:58">2024-02-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/23/301%E7%AC%AC%E5%9B%9B%E5%91%A8Lab7/" title="301第四周Lab7">301第四周Lab7</a><time datetime="2024-02-23T16:17:37.000Z" title="Created 2024-02-23 16:17:37">2024-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/23/301%E7%AC%AC%E5%9B%9B%E5%91%A8TUL/" title="301第四周TUL">301第四周TUL</a><time datetime="2024-02-23T15:49:54.000Z" title="Created 2024-02-23 15:49:54">2024-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/19/301%E7%AC%AC%E5%9B%9B%E5%91%A8LEC/" title="301第四周LEC">301第四周LEC</a><time datetime="2024-02-19T21:43:03.000Z" title="Created 2024-02-19 21:43:03">2024-02-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/14/431%E7%AC%AC%E4%B8%89%E5%91%A8LEC/" title="431第三周LEC">431第三周LEC</a><time datetime="2024-02-14T21:42:49.000Z" title="Created 2024-02-14 21:42:49">2024-02-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Jacka10086</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>